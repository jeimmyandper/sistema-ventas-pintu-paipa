<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Módulo de Inventario - Pintu-Paipa</title>
    <link rel="stylesheet" href="../styles.css">
    <style>

  .modal-overlay{
    display:none;
    position:fixed;
    inset:0;
    background: rgba(0,0,0,.45);
    align-items:center;
    justify-content:center;
    padding:16px;
    z-index:9999;
  }
  .modal-card{
    width:min(620px, 96vw);
    background:#fff;
    border-radius:14px;
    box-shadow:0 20px 70px rgba(0,0,0,.25);
    overflow:hidden;
    border: 1px solid rgba(0,0,0,.08);
  }
  .modal-header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:14px 16px;
    border-bottom:1px solid rgba(0,0,0,.08);
  }
  .modal-header h3{
    margin:0;
    font-size:18px;
  }
  .modal-close{
    background:transparent;
    border:none;
    font-size:18px;
    cursor:pointer;
    padding:6px 10px;
    border-radius:10px;
  }
  .modal-close:hover{ background: rgba(0,0,0,.06); }

  .modal-body{ padding:16px; }
  .grid-2{
    display:grid;
    grid-template-columns: 1fr 1fr;
    gap:12px;
    margin-bottom:12px;
  }
  .field label{
    display:block;
    font-size:13px;
    margin-bottom:6px;
    color:#222;
    font-weight:600;
  }
  .field input{
    width:100%;
    padding:10px 10px;
    border-radius:10px;
    border:1px solid rgba(0,0,0,.18);
    outline:none;
  }
  .field input:focus{
    border-color:#0e38f1;
    box-shadow:0 0 0 3px rgba(14,56,241,.15);
  }
  .hint{
    margin: 8px 0 0;
    font-size:12.5px;
    color:#444;
    background: rgba(14,56,241,.06);
    padding:10px 12px;
    border-radius:12px;
  }

  .modal-footer{
    display:flex;
    gap:10px;
    justify-content:flex-end;
    padding:14px 16px;
    border-top:1px solid rgba(0,0,0,.08);
    background: rgba(0,0,0,.02);
  }
</style>
</head>
<link rel="stylesheet" href="../styles.css">
<body>
    <header>
        <div class="logo-container">
            <img src="../logotipopintupaipa.png" alt="Logo de Pintu-Paipa">
        </div>
        <h1>Software de Ventas y Inventario - Pintu-Paipa</h1>
        <p>Dirección: Paipa, Boyacá</p>
        <p>Teléfono: 3138809844</p>
    </header>
    <nav>
    <ul class="menu-horizontal">
      <li><a href="../Registro usuarios/registro_usuarios.html">Registro de Usuario</a></li>
      <li><a href="../Registro clientes/registro_clientes.html">Registro de Clientes</a></li>
      <li><a href="../Inventario/inventario.html">Módulo de Inventario</a></li>
      <li><a href="../Ventas/ventas.html">Módulo de Ventas</a></li>
      <li><a class="manual-link" href="../Manual/manual_usuario.pdf" target="_blank">Manual de usuario</a></li>
      <li><a href="#" id="cerrar-sesion">Cerrar sesión</a></li>
    </ul>
    </nav>
    
    <section id="modulo-inventario">
        <h2>Módulo de Inventario</h2>
        <div class="acciones">
            <button class="btn btn-primary" id="agregar-nuevo">
            Agregar Nuevo Producto
            </button>
        </div>        
        <div class="busqueda">
            <input type="text" id="nombre-producto" placeholder="Nombre del Producto...">
            <button class="btn btn-light" id="buscar">
            Buscar
            </button>

        </div>

        <div class="filtros">
            <label for="categoria">Categoría:</label>
            <select id="categoria">
                <option value="">Todos</option>
            </select>
            <label for="tamano">Tamaño:</label>
            <select id="tamano">
                <option value="">Todos</option>
            </select>
            <label for="color">Color:</label>
            <select id="color">
                <option value="">Todos</option>
            </select>
        </div>
        <table id="resultado-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nombre del Producto</th>
                    <th>Categoría</th>
                    <th>Tamaño</th>
                    <th>Color</th>
                    <th>Precio</th>
                    <th>Stock</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody id="lista-productos"></tbody>
        </table>
    </section>
    <footer>
        <div class="datos-empresa">
            <p>Ciudad: Paipa, Boyacá</p>
            <p>Teléfono: 3138809844</p>
        </div>
        <p>&copy; 2026 Pintu-Paipa. Todos los derechos reservados.</p>
    </footer>

<div id="modal-producto" class="modal-overlay" aria-hidden="true">
  <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="modal-titulo">
    <div class="modal-header">
      <h3 id="modal-titulo">Producto</h3>
      <button type="button" class="modal-close" id="btn-cerrar-modal" aria-label="Cerrar">✕</button>
    </div>

    <div class="modal-body">
      <input type="hidden" id="prod-id">

      <div class="grid-2">
        <div class="field">
          <label for="prod-nombre">Nombre</label>
          <input id="prod-nombre" type="text" placeholder="Ej: Vinilo Naranja">
        </div>

        <div class="field">
          <label for="prod-categoria">Categoría</label>
          <select id="prod-categoria">
            <option value="">Seleccione</option>
            <optgroup label="Pinturas">
              <option value="Vinilo Tipo 1">Vinilo Tipo 1</option>
              <option value="Vinilo Tipo 2">Vinilo Tipo 2</option>
              <option value="Vinilo Tipo 3">Vinilo Tipo 3</option>
              <option value="Laca">Laca</option>
              <option value="Esmalte">Esmalte</option>
              <option value="Barniz">Barniz</option>
              <option value="Anticorrosivo">Anticorrosivo</option>
              <option value="Estuco">Estuco</option>
              <option value="Spray">Spray</option>
              <option value="Thinner">Thinner</option>
            </optgroup>
            <optgroup label="Herramientas / Insumos">
              <option value="Brochas">Brochas</option>
              <option value="Rodillos">Rodillos</option>
              <option value="Lijas">Lijas</option>
              <option value="Cinta de enmascarar">Cinta de enmascarar</option>
              <option value="Espátulas">Espátulas</option>
             </optgroup>
          </select>
        </div>
      </div>

      <div class="grid-2">
        <div class="field">
          <label for="prod-tamano">Tamaño / Presentación</label>
          <select id="prod-tamano">
            <option value="">Seleccione</option>
          </select>
        </div>

        <div class="field">
          <label for="prod-color">Color</label>
          <select id="prod-color">
            <option value="No aplica">No aplica</option>
            <option value="Blanco">Blanco</option>
            <option value="Negro">Negro</option>
            <option value="Azul">Azul</option>
            <option value="Verde">Verde</option>
            <option value="Rojo">Rojo</option>
            <option value="Amarillo">Amarillo</option>
            <option value="Naranja">Naranja</option>
            <option value="Gris">Gris</option>
            <option value="Beige">Beige</option>
            <option value="Violeta">Violeta</option>
            <option value="Mezcla personalizada">Mezcla personalizada</option>
          </select>
        </div>
      </div>

      <div class="grid-2">
        <div class="field">
          <label for="prod-precio">Precio</label>
          <input id="prod-precio" type="number" min="0" step="0.01" placeholder="Ej: 35000">
        </div>

        <div class="field">
          <label for="prod-stock">Stock</label>
          <input id="prod-stock" type="number" min="0" step="1" placeholder="Ej: 15">
        </div>
      </div>

      <p class="hint">
        Tip: en <b>Editar</b> puedes cambiar solo un campo (ej: Stock) y guardar.
      </p>
    </div>

    <div class="modal-footer">
      <button type="button" class="btn btn-ghost" id="btn-cancelar">Cancelar</button>
      <button type="button" class="btn btn-primary" id="btn-guardar">Guardar</button>
    </div>
  </div>
</div>
<script src="/pintupaipa/Softwaredeventas/Inventario/inventario.js?v=3"></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const btn = document.getElementById("cerrar-sesion");
  if (!btn) return;

  btn.addEventListener("click", async (e) => {
    e.preventDefault();

    try {
      await fetch("/pintupaipa/api/auth_logout.php", { method: "POST" });
    } catch (err) {}

    window.location.href = "/pintupaipa/Softwaredeventas/Inicio/index.html";
  });
});
</script>

</body>
</html>
