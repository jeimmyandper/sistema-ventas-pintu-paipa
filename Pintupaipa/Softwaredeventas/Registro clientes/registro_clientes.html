<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registro de Clientes - Pintu-Paipa</title>
  <link rel="stylesheet" href="../styles.css">

  <style>
    #resultado-table { border-collapse: collapse; width: 100%; }
    #resultado-table th, #resultado-table td { border: 1px solid #0e38f1; padding: 8px; text-align: left; }
    #resultado-table th { background-color: #ffffff; }

    .acciones { margin: 12px 0; }
    .busqueda { display:flex; gap:8px; align-items:center; margin: 10px 0 14px; }
    .busqueda input { flex:1; padding:10px; border-radius:10px; border:1px solid rgba(0,0,0,.18); }

    .modal-overlay{
      display:none; position:fixed; inset:0; background: rgba(0,0,0,.45);
      align-items:center; justify-content:center; padding:16px; z-index:9999;
    }
    .modal-card{
      width:min(620px, 96vw); background:#fff; border-radius:14px;
      box-shadow:0 20px 70px rgba(0,0,0,.25); overflow:hidden;
      border: 1px solid rgba(0,0,0,.08);
    }
    .modal-header{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 16px; border-bottom:1px solid rgba(0,0,0,.08);
    }
    .modal-header h3{ margin:0; font-size:18px; }
    .modal-close{
      background:transparent; border:none; font-size:18px; cursor:pointer;
      padding:6px 10px; border-radius:10px;
    }
    .modal-close:hover{ background: rgba(0,0,0,.06); }

    .modal-body{ padding:16px; }
    .grid-2{ display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom:12px; }
    .field label{ display:block; font-size:13px; margin-bottom:6px; color:#222; font-weight:600; }
    .field input{
      width:100%; padding:10px; border-radius:10px; border:1px solid rgba(0,0,0,.18); outline:none;
    }
    .field input:focus{
      border-color:#0e38f1; box-shadow:0 0 0 3px rgba(14,56,241,.15);
    }

    .modal-footer{
      display:flex; gap:10px; justify-content:flex-end;
      padding:14px 16px; border-top:1px solid rgba(0,0,0,.08);
      background: rgba(0,0,0,.02);
    }
  </style>
</head>
<link rel="stylesheet" href="../styles.css">
<body>
  <header>
    <div class="logo-container">
      <img src="../logotipopintupaipa.png" alt="Logo de Pintu-Paipa">
    </div>
    <h1>Software de Ventas y Inventario - Pintu-Paipa</h1>
    <p>Dirección: Paipa, Boyacá</p>
    <p>Teléfono: 3138809844</p>
  </header>

  <nav>
    <ul class="menu-horizontal">
      <li><a href="../Registro usuarios/registro_usuarios.html">Registro de Usuario</a></li>
      <li><a href="../Registro clientes/registro_clientes.html">Registro de Clientes</a></li>
      <li><a href="../Inventario/inventario.html">Módulo de Inventario</a></li>
      <li><a href="../Ventas/ventas.html">Módulo de Ventas</a></li>
      <li><a class="manual-link" href="../Manual/manual_usuario.pdf" target="_blank">Manual de usuario</a></li>
      <li><a href="#" id="cerrar-sesion">Cerrar sesión</a></li>
    </ul>
  </nav>

  <section id="registro-clientes">
    <h2>Registro de Clientes</h2>

    <div class="acciones">
      <button class="btn btn-primary" id="agregar-cliente" type="button">Agregar Cliente</button>
    </div>

    <div class="busqueda">
      <input type="text" id="q" placeholder="Buscar por nombre, cédula o teléfono...">
      <button class="btn btn-light" id="buscar" type="button">Buscar</button>
    </div>

    <table id="resultado-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>Cédula</th>
          <th>Dirección</th>
          <th>Correo</th>
          <th>Teléfono</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody id="lista-clientes"></tbody>
    </table>
  </section>

  <footer>
    <p>&copy; 2026 Pintu-Paipa. Todos los derechos reservados.</p>
  </footer>

  <div id="modal-cliente" class="modal-overlay" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="modal-titulo">
      <div class="modal-header">
        <h3 id="modal-titulo">Cliente</h3>
        <button type="button" class="modal-close" id="btn-cerrar-modal" aria-label="Cerrar">✕</button>
      </div>

      <div class="modal-body">
        <input type="hidden" id="cli-id">

        <div class="grid-2">
          <div class="field">
            <label for="cli-nombre">Nombre</label>
            <input id="cli-nombre" type="text" placeholder="Nombre completo">
          </div>

          <div class="field">
            <label for="cli-cedula">Cédula</label>
            <input id="cli-cedula" type="text" placeholder="Ej: 1234567890">
          </div>
        </div>

        <div class="grid-2">
          <div class="field">
            <label for="cli-telefono">Teléfono</label>
            <input id="cli-telefono" type="text" placeholder="Ej: 3140000000">
          </div>

          <div class="field">
            <label for="cli-correo">Correo</label>
            <input id="cli-correo" type="email" placeholder="cliente@correo.com">
          </div>
        </div>

        <div class="field">
          <label for="cli-direccion">Dirección</label>
          <input id="cli-direccion" type="text" placeholder="Dirección">
        </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-light" id="btn-cancelar">Cancelar</button>
        <button type="button" class="btn btn-primary" id="btn-guardar">Guardar</button>
      </div>
    </div>
  </div>

  <script src="/pintupaipa/Softwaredeventas/Registro%20clientes/registro_clientes.js?v=3"></script>
  <script>
document.addEventListener("DOMContentLoaded", () => {
  const btn = document.getElementById("cerrar-sesion");
  if (!btn) return;

  btn.addEventListener("click", async (e) => {
    e.preventDefault();

    try {
      await fetch("/pintupaipa/api/auth_logout.php", { method: "POST" });
    } catch (err) {}

    window.location.href = "/pintupaipa/Softwaredeventas/Inicio/index.html";
  });
});
</script>

</body>
</html>
